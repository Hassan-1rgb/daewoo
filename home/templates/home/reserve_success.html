{% extends "home/base.html" %}
{% load static %}

{% block title %}Seat Reserved{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card border-0 shadow-sm">
        <div class="card-body p-5 text-center">
          <div class="success-icon mb-4">
            <i class="bi bi-clock-history text-warning"></i>
          </div>
          <h2 class="mb-3">Seat Reserved!</h2>
          <p class="text-muted mb-4">
            Your seat has been reserved and is valid for <strong>30 minutes</strong>.  
            Please complete payment to confirm your booking.
          </p>

          <div class="booking-details card bg-light mb-4">
            <div class="card-body">
              <p class="mb-1"><strong>Booking Number:</strong> {{ booking.booking_number }}</p>
              <p class="mb-1"><strong>Route:</strong> {{ booking.bus.route.origin }} â†’ {{ booking.bus.route.destination }}</p>
              <p class="mb-1"><strong>Departure:</strong> {{ booking.bus.departure_time|time:"g:i A" }}</p>
              <p class="mb-1"><strong>Seats:</strong> {{ booking.seat_number }}</p>
              <p class="mb-1"><strong>Status:</strong> 
                <span class="badge bg-warning text-dark">Reserved</span>
              </p>
              <p class="mb-1"><strong>Reservation Expires At:</strong> {{ booking.reserved_until|date:"M d, Y g:i A" }}</p>
              <p class="mb-1"><strong>Total Price:</strong> Rs {{ total_price }}</p>
            </div>
          </div>

          <div class="d-flex justify-content-center gap-3">
            <a href="{% url 'payment_view' booking.id %}" class="btn btn-primary">
              <i class="bi bi-credit-card me-2"></i> Proceed to Payment
            </a>
            <a href="{% url 'booking' %}" class="btn btn-outline-secondary">
              <i class="bi bi-x-circle me-2"></i> Cancel Reservation
            </a>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .success-icon { font-size: 5rem; }
  .booking-details { border-radius: 12px; }
</style>
{% endblock %}
